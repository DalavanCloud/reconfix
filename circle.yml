machine:
  environment:
    PATH: "${HOME}/.cargo/bin:${PATH}"

dependencies:
  override:
    - curl https://sh.rustup.rs -sSf | sh -s -- -y
    - rustup update stable
    - rm ~/.gitconfig
    - cargo install rustfmt
test:
  override:
    - cargo clean
    - cargo fmt -- --write-mode=diff
    - cargo build --verbose
